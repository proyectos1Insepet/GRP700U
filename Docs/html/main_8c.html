<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GRP700 Unificado: Referencia del Archivo Unificada.cydsn/main.c</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GRP700 Unificado
   &#160;<span id="projectnumber">2.0</span>
   </div>
   <div id="projectbrief">Sistema de impresión autónomo para equipos de 2 posiciones, preparado para impresora panel y kiosco</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generado por Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Buscar');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Buscar');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('main_8c.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Funciones</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Referencia del Archivo main.c</div>  </div>
</div><!--header-->
<div class="contents">

<p>Archivo principal, maneja librerías y ejecuta el polling de pantallas y dispensador.  
<a href="#details">Más...</a></p>
<div class="textblock"><code>#include &lt;device.h&gt;</code><br />
<code>#include &quot;Protocolo.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_variables_g_8h_source.html">VariablesG.h</a>&quot;</code><br />
<code>#include &quot;Print.h&quot;</code><br />
<code>#include &quot;Sonido.h&quot;</code><br />
<code>#include &quot;LCD.h&quot;</code><br />
<code>#include &quot;ibutton.h&quot;</code><br />
<code>#include &quot;I2C.h&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Funciones</h2></td></tr>
<tr class="memitem:a14d57181a05d3d4103749cf32cfeaf6e"><td class="memItemLeft" align="right" valign="top"><a id="a14d57181a05d3d4103749cf32cfeaf6e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>CY_ISR</b> (animacion2)</td></tr>
<tr class="separator:a14d57181a05d3d4103749cf32cfeaf6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b006b791768d80551c339f04d1b01a0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a9b006b791768d80551c339f04d1b01a0">CY_ISR</a> (animacion)</td></tr>
<tr class="memdesc:a9b006b791768d80551c339f04d1b01a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">función de interrupción muestra la animación de inicio de la variable flujo_LDC1 = 1 o flujo_LCD2=1  <a href="#a9b006b791768d80551c339f04d1b01a0">Más...</a><br /></td></tr>
<tr class="separator:a9b006b791768d80551c339f04d1b01a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5edd556b6c4c55502c0ba0c1c4e53da5"><td class="memItemLeft" align="right" valign="top"><a id="a5edd556b6c4c55502c0ba0c1c4e53da5"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a5edd556b6c4c55502c0ba0c1c4e53da5">init</a> (void)</td></tr>
<tr class="memdesc:a5edd556b6c4c55502c0ba0c1c4e53da5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicialización de periféricos, lectura de variables de eeprom externa inicialización de interrupciones. <br /></td></tr>
<tr class="separator:a5edd556b6c4c55502c0ba0c1c4e53da5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50766d410b462783a563f363f5444944"><td class="memItemLeft" align="right" valign="top"><a id="a50766d410b462783a563f363f5444944"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a50766d410b462783a563f363f5444944">init_surt</a> (void)</td></tr>
<tr class="memdesc:a50766d410b462783a563f363f5444944"><td class="mdescLeft">&#160;</td><td class="mdescRight">Inicia comunicación con el surtidor Retorna el númeo de posiciones que contesten la consulta, diseñado para máximo 2 posiciones equipos legacy, advantage, encore y prime de 2 posiciones. <br /></td></tr>
<tr class="separator:a50766d410b462783a563f363f5444944"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab12e9ad4c0ee23725cbc15c73baefba6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ab12e9ad4c0ee23725cbc15c73baefba6">error_op</a> (uint8 lcd)</td></tr>
<tr class="memdesc:ab12e9ad4c0ee23725cbc15c73baefba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">reinicia el dispay indicado en (lcd)  <a href="#ab12e9ad4c0ee23725cbc15c73baefba6">Más...</a><br /></td></tr>
<tr class="separator:ab12e9ad4c0ee23725cbc15c73baefba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab54da5d1341bf1e1e74efcfc8e20d722"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ab54da5d1341bf1e1e74efcfc8e20d722">polling_LCD1</a> (void)</td></tr>
<tr class="memdesc:ab54da5d1341bf1e1e74efcfc8e20d722"><td class="mdescLeft">&#160;</td><td class="mdescRight">consulta el estado de la variable flujo_LCD la cual cambia su valor según el proceso actual con cada touch se dispara un proceso, la variable lleva el registro del proceso que se está ejecutando así que cada vez que se realice lectura de pantalla realiza la tarea correspondiente al caso  <a href="#ab54da5d1341bf1e1e74efcfc8e20d722">Más...</a><br /></td></tr>
<tr class="separator:ab54da5d1341bf1e1e74efcfc8e20d722"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09f70c8ad6e111e81caebede81aa1b09"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#a09f70c8ad6e111e81caebede81aa1b09">polling_LCD2</a> (void)</td></tr>
<tr class="memdesc:a09f70c8ad6e111e81caebede81aa1b09"><td class="mdescLeft">&#160;</td><td class="mdescRight">consulta el estado de la variable flujo_LCD2 la cual cambia su valor según el proceso actual con cada touch se dispara un proceso, la variable lleva el registro del proceso que se está ejecutando así que cada vez que se realice lectura de pantalla realiza la tarea correspondiente al caso  <a href="#a09f70c8ad6e111e81caebede81aa1b09">Más...</a><br /></td></tr>
<tr class="separator:a09f70c8ad6e111e81caebede81aa1b09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">función principal los procesos del microcontrolador inician su ejecución en esta función se hace la inicialización de periféricos en el ciclo infinito se consultan pantallas  <a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">Más...</a><br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac37a7048207eafa341f3def92404e9c4"><td class="memItemLeft" align="right" valign="top"><a id="ac37a7048207eafa341f3def92404e9c4"></a>
uint8&#160;</td><td class="memItemRight" valign="bottom"><b>letras</b> [26] ={0x25,0x42,0x31,0x27,0x1D,0x28,0x29,0x2A,0x22,0x2B,0x2C,0x2D,0x35,0x34,0x23,0x24,0x1B,0x1E,0x26,0x1F,0x21,0x32,0x1C,0x30,0x20,0x2F}</td></tr>
<tr class="separator:ac37a7048207eafa341f3def92404e9c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2f801cb6646938a169eaca3535caa28"><td class="memItemLeft" align="right" valign="top"><a id="ae2f801cb6646938a169eaca3535caa28"></a>
uint8&#160;</td><td class="memItemRight" valign="bottom"><b>test</b> [18] =&quot;Test de Impresora&quot;</td></tr>
<tr class="separator:ae2f801cb6646938a169eaca3535caa28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02aa97d44fde394545b7170595683439"><td class="memItemLeft" align="right" valign="top"><a id="a02aa97d44fde394545b7170595683439"></a>
uint8&#160;</td><td class="memItemRight" valign="bottom"><b>puk</b> [8] =&quot;18928005&quot;</td></tr>
<tr class="separator:a02aa97d44fde394545b7170595683439"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1be262136666311b24143e58586ff3f"><td class="memItemLeft" align="right" valign="top"><a id="af1be262136666311b24143e58586ff3f"></a>
uint8&#160;</td><td class="memItemRight" valign="bottom"><b>serial</b> [17] =&quot;0FFFFF8FEEBEB2DC0&quot;</td></tr>
<tr class="separator:af1be262136666311b24143e58586ff3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaed35a5990fe40d271ed6d1dbb9da87c"><td class="memItemLeft" align="right" valign="top"><a id="aaed35a5990fe40d271ed6d1dbb9da87c"></a>
uint8&#160;</td><td class="memItemRight" valign="bottom"><b>pasword_corte</b> [5] ={4,'1','2','3','4'}</td></tr>
<tr class="separator:aaed35a5990fe40d271ed6d1dbb9da87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descripción detallada</h2>
<div class="textblock"><p>Archivo principal, maneja librerías y ejecuta el polling de pantallas y dispensador. </p>
<p>Insepet LTDA </p><dl class="section date"><dt>Fecha</dt><dd>28/2/2016 </dd></dl>
</div><h2 class="groupheader">Documentación de las funciones</h2>
<a id="a9b006b791768d80551c339f04d1b01a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b006b791768d80551c339f04d1b01a0">&#9670;&nbsp;</a></span>CY_ISR()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CY_ISR </td>
          <td>(</td>
          <td class="paramtype">animacion&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>función de interrupción muestra la animación de inicio de la variable flujo_LDC1 = 1 o flujo_LCD2=1 </p>
<p>CY_ISR </p><dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">animacion</td><td></td></tr>
    <tr><td class="paramname">animacion2</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab12e9ad4c0ee23725cbc15c73baefba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab12e9ad4c0ee23725cbc15c73baefba6">&#9670;&nbsp;</a></span>error_op()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void error_op </td>
          <td>(</td>
          <td class="paramtype">uint8&#160;</td>
          <td class="paramname"><em>lcd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>reinicia el dispay indicado en (lcd) </p>
<p>error_op </p><dl class="params"><dt>Parámetros</dt><dd>
  <table class="params">
    <tr><td class="paramname">lcd</td><td>display que se debe reiniciar (1 ó 2) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>función principal los procesos del microcontrolador inician su ejecución en esta función se hace la inicialización de periféricos en el ciclo infinito se consultan pantallas </p>
<p>main </p>

</div>
</div>
<a id="ab54da5d1341bf1e1e74efcfc8e20d722"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab54da5d1341bf1e1e74efcfc8e20d722">&#9670;&nbsp;</a></span>polling_LCD1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void polling_LCD1 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>consulta el estado de la variable flujo_LCD la cual cambia su valor según el proceso actual con cada touch se dispara un proceso, la variable lleva el registro del proceso que se está ejecutando así que cada vez que se realice lectura de pantalla realiza la tarea correspondiente al caso </p>
<p>polling_LCD1 </p>
<p>flujo_LCD variable principal del polling, se encarga de llevar memoria del estado actual para ingresar al case correspondiente </p>

</div>
</div>
<a id="a09f70c8ad6e111e81caebede81aa1b09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09f70c8ad6e111e81caebede81aa1b09">&#9670;&nbsp;</a></span>polling_LCD2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void polling_LCD2 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>consulta el estado de la variable flujo_LCD2 la cual cambia su valor según el proceso actual con cada touch se dispara un proceso, la variable lleva el registro del proceso que se está ejecutando así que cada vez que se realice lectura de pantalla realiza la tarea correspondiente al caso </p>
<p>polling_LCD2 </p>
<p>flujo_LCD2 variable principal del polling, se encarga de llevar memoria del estado actual para ingresar al case correspondiente </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_c2b19360d94f9d344b0c2882212785f1.html">Unificada.cydsn</a></li><li class="navelem"><a class="el" href="main_8c.html">main.c</a></li>
    <li class="footer">Generado por
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
